generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model SequelizeMeta {
  name String @id @db.VarChar(255)
}

model digs {
  id        Int      @id @default(autoincrement())
  userId    Int?
  strain    strains  @relation(fields: [strainId], references: [id])
  strainId  Int      @unique
  into_it   Boolean?  
}

model effects {
  id        Int      @id @default(autoincrement())
  strain    strains  @relation(fields: [strainId], references: [id])
  strainId  Int      @unique
  taste     String?  @db.VarChar(255)
  smell     String?
  gold      String?  @db.VarChar(255)
  mine      String?  @db.Char(255)
  nug       String?  @db.VarChar(255)
  thc       Int?
  cbd       Int?  
}

model mines {
  id        Int      @id @default(autoincrement())
  strain    strains @relation(fields: [strainId], references: [id])
  strainId  Int     @unique
  review    String?
  title     String?  @db.VarChar(255)  
}

model strains {
  id        Int      @id @default(autoincrement())
  strain    String   @db.VarChar(255)
  strainId  Int      @unique
  dominant  String   @db.VarChar(255)
  funfact   String   @db.VarChar(255)
  parents   String   @db.VarChar(255)
  taste     String   @db.VarChar(255)
  smell     String   @db.VarChar(255)
  gold      String   @db.VarChar(255)
  nugget    String   @db.VarChar(255)
  thc       String   @db.VarChar(255)
  cbd       String   @db.VarChar(255)
  effects   effects[]
  mines     mines[]
  digs      digs []
  miners    MinersOnStrains[]
}

model miners {
  id        Int      @id @default(autoincrement())
  username  String?  @db.VarChar(255)
  password  String?  @db.VarChar(255)
  age       Int?
  email     String?  @db.VarChar(255)
  strains   MinersOnStrains[]
}

model MinersOnStrains {
  miner       miners     @relation(fields: [minersId], references: [id])
  minersId    Int
  strain    strains @relation(fields: [strainsId], references: [id])    
  strainsId  Int
  @@id([minersId, strainsId])
}
